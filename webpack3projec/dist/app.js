webpackJsonp([0],[function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){var t=40*Math.floor(Math.random()*(s.width/40)),e=40*Math.floor(Math.random()*(s.height/40));return new o(t,e,40,40,"#d9db64").draw(c)}Object.defineProperty(e,"__esModule",{value:!0});var r=(n(1),function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}()),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#57af09";a(this,t),this.x=e,this.y=n,this.w=i,this.h=r,this.color=o}return r(t,[{key:"draw",value:function(t){return!!t&&(t.fillStyle=this.color,t.strokeStyle="black",t.strokeRect(this.x,this.y,this.w,this.h),t.fillRect(this.x,this.y,this.w,this.h),this)}}]),t}(),h=function(){function t(e,n,i,r){a(this,t),this.rectData=[],this.ctx=n,this.state="r",this.boundary={w:i,h:r};for(var h=0;h<e;h++){var s=new o(400-40*h,400);0==h&&(this.head=s),this.rectData.push(s)}}return r(t,[{key:"draw",value:function(){var t=this;return this.rectData.forEach(function(e,n){return e.draw(t.ctx)}),this}},{key:"move",value:function(t){var e=this,n=e.rectData,a=e.head,i=(e.ctx,void 0),r=void 0,h=void 0;switch(e.state){case"r":i=a.x+a.w,r=a.y;break;case"l":i=a.x-a.w,r=a.y;break;case"u":i=a.x,r=a.y-a.h;break;case"d":i=a.x,r=a.y+a.h}return t?h=new o(i,r,a.w,a.h):(h=n.pop(),h.x=i,h.y=r),e.head=h,n.splice(0,0,h),e}},{key:"isKnockWall",value:function(){var t=this.head,e=this.boundary;return console.log(t.x,t.y),(t.x<0||t.x>=e.w||t.y<0||t.y>=e.h)&&(console.log(1),!0)}},{key:"isKnockSelf",value:function(){}},{key:"isEating",value:function(t){var e=this.head;return t.x==e.x&&t.y==e.y}}]),t}();window.addEventListener("resize",function(){s.width=40*~~(window.innerWidth/40),s.height=40*~~(window.innerHeight/40)});var s=document.getElementById("canvas");s.width=40*Math.floor(window.innerWidth/40),s.height=40*Math.floor(window.innerHeight/40);var c=s.getContext("2d"),u=new h(4,c,s.width,s.height),d=i();d.draw(c),u.draw();var l=setInterval(function(){if(u.isKnockWall())return clearInterval(l),void alert("game over");var t=u.isEating(d);c.clearRect(0,0,s.width,s.height),t&&(d=i()),d.draw(c),u.move(t).draw()},200);document.onkeydown=function(t){var e=t||window.event;switch(e.keyCode){case 37:"r"!==u.state&&(u.state="l");break;case 38:"d"!==u.state&&(u.state="u");break;case 39:"l"!==u.state&&(u.state="r");break;case 40:"u"!==u.state&&(u.state="d")}e.preventDefault()}},function(t,e){}],[0]);